/*=======================================================================*\
|| ###################################################################### ||
|| # vBulletin 5.6.0
|| # ------------------------------------------------------------------ # ||
|| # Copyright 2000-2020 MH Sub I, LLC dba vBulletin. All Rights Reserved.  # ||
|| # This file may not be redistributed in whole or significant part.   # ||
|| # ----------------- VBULLETIN IS NOT FREE SOFTWARE ----------------- # ||
|| # http://www.vbulletin.com | http://www.vbulletin.com/license.html   # ||
|| ###################################################################### ||
\*========================================================================*/
window.vBulletin=window.vBulletin||{};window.vBulletin.phrase=window.vBulletin.phrase||{};window.vBulletin.phrase.precache=window.vBulletin.phrase.precache||[];window.vBulletin.phrase.precache=$.merge(window.vBulletin.phrase.precache,["more_options","advanced_search","search","more"]);window.vBulletin.CompMenuHorizontal=window.vBulletin.CompMenuHorizontal||{};window.vBulletin.jsexec=window.vBulletin.jsexec||{};window.vBulletin.jsexec.css_b_comp_menu_horizontal=window.vBulletin.jsexec.css_b_comp_menu_horizontal||{exec:0,init:0};window.vBulletin.jsexec.css_b_comp_menu_horizontal.exec++;(function(F){var N=[];function A(V,T,U){function X(Y,Z){if(Y.is("."+Z)){Y.removeClass(Z);var a=Y.data("removed-classes")||[];if(F.inArray(Z,a)==-1){a.push(Z)}Y.data("removed-classes",a)}}function W(Y,a){if(!Y.is("."+a)){Y.addClass(a);var Z=Y.data("added-classes")||[];if(F.inArray(a,Z)==-1){Z.push(a)}Y.data("added-classes",Z)}}V.each(function(){var Y=F(this);F.each(T,function(Z,a){X(Y,a)});F.each(U,function(Z,a){W(Y,a)})})}function L(T){T.each(function(){var U=F(this),W=U.data("added-classes")||[],V=U.data("removed-classes")||[];if(W.length){U.removeClass(W.join(" "))}if(V.length){U.addClass(V.join(" "))}})}function G(T){N.push(T)}function C(T,U,V){F.each(N,function(W,X){X(T,U,V)})}function J(V,W,X){if(!V.is(".js-comp-menu-dropdown__content--main-menu")){return }if(X=="dropdown"){var U=V.find(".current").addClass("b-comp-menu-dropdown__content-item--current");W.addClass("b-comp-menu-dropdown--main-menu").find(".js-comp-menu-dropdown__trigger").addClass("b-comp-menu-dropdown__trigger--icon-trigger").html('<span class="b-icon b-icon__hamburger b-comp-menu-dropdown__trigger-icon"></span>');V.find("li").first().addClass("b-comp-menu-dropdown__content-item--divider");var T='<li class="js-search-item b-comp-menu-dropdown__content-item--no-hover js-comp-menu-dropdown__content-maintain-menu"><form action="'+F("#searchForm").attr("action")+'"><input type="text" autocomplete="off" class="b-form-input__input search-term" placeholder="'+vBulletin.phrase.get("search")+'..." name="q"><button title="'+vBulletin.phrase.get("search")+'" class="search-btn" type="submit"><span class="b-icon b-icon__search b-icon--show-on-xsmall"></span></button></form></li><li class="js-search-item"><a href="'+pageData.baseurl+'/search">'+vBulletin.phrase.get("advanced_search")+"</a></li>";F(T).prependTo(V);F(".js-channel-subtabbar-list li").addClass("js-subtabbar-item b-comp-menu-dropdown__content-item--indent1").insertAfter(U);F(".js-channel-subtabbar").addClass("h-hide")}else{V.find("li").removeClass("b-comp-menu-dropdown__content-item--divider b-comp-menu-dropdown__content-item--current b-comp-menu-dropdown__content-item--indent1");V.find(".js-search-item").remove();V.find(".js-subtabbar-item").appendTo(F(".js-channel-subtabbar-list"));F(".js-channel-subtabbar").removeClass("h-hide")}}function D(T,U,V){if(!T.is(".js-footer-nav-list")){return }if(V=="dropdown"){A(T,["h-right"],[]);A(U,[],["js-select-on-xsmall"]);var W=F("<li></li>").append(U).appendTo(".js-footer-chooser-list");T.data("vb-remove-li",W)}else{T.insertAfter(".js-footer-chooser-list");T.data("vb-remove-li").remove()}}function I(U,W,X){if(X=="dropdown"){var Y=U.find(".js-comp-menu--exclude-from-dropdown");if(Y.length>0){var T=F("<ul />").addClass(U.get(0).className).removeClass("js-comp-menu-horizontal js-comp-menu--dropdown-on-xsmall js-comp-menu--dropdown-on-small b-comp-menu-dropdown--inactive").insertAfter(W);U.data("vb-exclude-item-container",T);Y.each(function(Z,a){var b=F(this);F("<li />").addClass("js-excluded-item-marker h-hide-imp").data("vb-excluded-item",b).insertAfter(b)});Y.appendTo(T)}}else{var T=U.data("vb-exclude-item-container"),V=U.find(".js-excluded-item-marker");if(T&&T.length&&T.length>0&&V.length>0){V.each(function(Z,b){var a=F(this);a.data("vb-excluded-item").insertAfter(a)});V.remove();U.data("vb-exclude-item-container",false);T.remove()}}}function B(T,c,b){if(!T.is(".js-module-tab-menu")){return }var Y=T.closest(".widget-tabs-nav, .js-widget-tabs-nav"),W=Y.find(".module-title, .js-module-title"),U=T.find("li"),V=U.filter(".ui-state-active"),d=T.find("a");Y.addClass("js-widget-tabs-nav");W.addClass("js-module-title");function Z(g){var f=F(this),h=f.closest("li");U.removeClass("b-comp-menu-dropdown__content-item--current ui-tabs-active ui-state-active ui-state-hover ui-state-default");h.addClass("b-comp-menu-dropdown__content-item--current")}if(b=="dropdown"){if(T.is(".js-profile-tabs-nav")||T.is(".js-subscribe-tabs-nav")){var a=F("<div />").addClass("js-profile-menu-wrapper widget-tabs-nav").insertAfter(T).append(c).append(T)}A(T,["ui-tabs-nav","ui-helper-reset","ui-helper-clearfix","ui-widget-header","ui-corner-all"],[]);A(c,[],["js-select-when-dropdown"]);A(Y,["widget-tabs-nav"],["widget-tabs-nav-background"]);A(W,["module-title"],[]);A(U,["ui-helper-reset","ui-helper-clearfix","ui-widget-header","ui-corner-all","ui-corner-bottom","ui-corner-top","ui-corner-right","ui-corner-left","ui-corner-br","ui-corner-bl","ui-corner-tr","ui-corner-tl"],[]);A(d,["ui-tabs-anchor","h-block"],[]);if(V.length){V.addClass("b-comp-menu-dropdown__content-item--current")}else{setTimeout(function(){var g=U.filter(".ui-state-active");g.addClass("b-comp-menu-dropdown__content-item--current");var e=T.next(".vb-select-el"),f=0;if(e&&e.length){U.each(function(i,j){f=i;if(F(j).is(".ui-state-active")){return false}});var h=e.is(".selectBox");if(h){e.selectBox("destroy")}e.find(".js-noop-label").remove();e.get(0).selectedIndex=f;if(h){e.selectBox()}}},0)}U.removeClass("ui-state-default ui-tabs-active ui-state-active ui-state-hover");d.off("click.vbmoduletabs").on("click.vbmoduletabs",Z);c.data("add-classes-to-select-el","h-margin-vert-m h-margin-horiz-xl")}else{U.filter(function(){return(F(this).attr("aria-selected")=="true")}).removeClass("b-comp-menu-dropdown__content-item--current").addClass("ui-tabs-active ui-state-active");d.off("click.vbmoduletabs");L(Y);L(W);var X=T.parent();if(X.is(".js-profile-menu-wrapper")){T.insertAfter(X);c.insertAfter(X);X.remove()}}}function Q(U,Y,a){if(!U.is(".js-tabbed-pane__tabs")){return }var T=U.find("li"),Z=T.filter(".b-tabbed-pane__tab--selected"),V=U.find("a");if(a=="dropdown"){var W=F("<div />").addClass("js-tabbed-pane__tabs-wrapper b-tabbed-pane_tabs b-tabbed-pane__tabs--standard").insertAfter(U).append(Y).append(U);A(U.parent(),[],["js-comp-menu-dropdown__content"]);A(Y,[],["js-select-when-dropdown"]);A(T,[],["b-comp-menu-dropdown__content-item"]);Z.addClass("b-comp-menu-dropdown__content-item--current");Y.data("add-classes-to-select-el","h-margin-horiz-xl h-margin-vert-m")}else{T.removeClass("b-comp-menu-dropdown__content-item--current");var X=U.parent();if(X.is(".js-tabbed-pane__tabs-wrapper")){U.insertAfter(X);Y.insertAfter(X);X.remove()}}}function E(U,W,Y){if(!U.is(".js-groupblog-admin-menu")){return }var V=U.closest(".js-blog-admin-left"),T=U.find("li"),X=T.filter(".sgAdminActive, .blogAdminActive");if(Y=="dropdown"){A(W,[],["js-select-on-xsmall"]);X.addClass("b-comp-menu-dropdown__content-item--current")}else{}}function R(V,W,X){if(!V.is(".js-sharing-menu")){return }var U=V.find("li");if(X=="dropdown"){var T=V.prevAll(".userinfo");if(T.length==1){W.appendTo(T);V.data("vb-moved-to-userinfo","1")}A(V,["b-sharing-menu--horizontal"],[]);A(W,[],["h-align-bottom"]);A(U,[],["b-comp-menu-dropdown__content-item--no-hover","js-comp-menu-dropdown__content-maintain-menu"])}else{if(V.data("vb-moved-to-userinfo")=="1"){var T=W.parent(".userinfo");V.insertAfter(T).data("vb-moved-to-userinfo","0")}L(U)}}function P(T,X){if(X=="dropdown"){var b=T.data("dropdown-icon-classes")||"",g=b?" b-comp-menu-dropdown__trigger--icon-trigger":"",Y=(T.data("dropdown-trigger-classes")||"")+g,f=T.data("dropdown-trigger-phrase")||"more_options",Z=T.data("dropdown-menu-classes")||"",a=F('<div class="b-comp-menu-dropdown js-comp-menu-dropdown '+Z+'"> <div class="b-comp-menu-dropdown__trigger js-comp-menu-dropdown__trigger js-button '+Y+'" tabindex="0"> <span class="'+b+' b-comp-menu-dropdown__trigger-icon"> '+vBulletin.phrase.get(f)+" </span>  </div> </div>");a.insertAfter(T);C(T,a,X);var U=T.find("li"),d=T.find("a");var W=["h-right","h-left"];F.each(W,function(h,i){if(T.is("."+i)){a.addClass(i)}});var e=T.data("dropdown-content-classes"),c=["b-comp-menu-dropdown__content","js-comp-menu-dropdown__content"];if(e){e=e.split(" ")}else{e=[]}F.each(e,function(h,i){c.push(i)});A(T,["h-margin-top-s","h-right","b-comp-menu-horizontal","channel-tabbar-list","h-hide-on-small","nav-list"],c);A(U,["h-margin-top-xs","b-post-control","b-post-control--responsive"],["b-comp-menu-dropdown__content-item"]);A(d,["h-left"],["h-block"]);T.appendTo(a);vBulletin.CompMenuDropdown.init()}else{vBulletin.CompMenuDropdown.updateMenuAsSelectElement();var U=T.find("li"),d=T.find("a");L(T);L(U);L(d);var a=T.closest(".js-comp-menu-dropdown");vBulletin.CompMenuDropdown.setMenuColumnCount(a,T,1);T.removeClass("b-comp-menu-dropdown__content--left b-comp-menu-dropdown__content--right");T.insertAfter(a);C(T,a,X);var V=T.next(".vb-select-el");if(V&&V.length){V.selectBox("destroy").remove()}a.remove()}}function S(V){if(V.$children.length<1||V.$parent.length!=1){return }V.needsShrink=V.needsShrink||function(){return(vBulletin.Responsive.Debounce.checkElementShrinkRequirement(V.$parent)=="need_shrink")};V.copyChild=V.copyChild||function(a){var Y=a.find("> a"),Z=F('<a href="#"></a>');Z.html(Y.html());Z.attr("href",Y.attr("href"));Z.on("click",function(){Y.trigger("click");return false});return Z};var U=V.$children.filter(function(){return(F(this).text()!="")});if(U.length<1){return }var X=V.$parent.find(".js-progressive-dropdown-menu");if(X.length<1){X=F('<li class="b-top-menu__item js-shrink-event-child js-progressive-dropdown-menu h-hide-imp"> 	<div class="b-comp-menu-dropdown b-comp-menu-dropdown--sitebuilder js-comp-menu-dropdown">		<div class="b-comp-menu-dropdown__trigger js-comp-menu-dropdown__trigger js-button" tabindex="0"> 			<span class="b-icon b-icon__ellipsis b-comp-menu-dropdown__trigger-icon">'+vBulletin.phrase.get("more")+'</span> 		</div> 		<ul class="b-comp-menu-dropdown__content js-comp-menu-dropdown__content"> 		</ul> 	</div> </li>');X.insertAfter(U.last());var T=X.find(".js-comp-menu-dropdown__content");U.each(function(Y,a){var c=F(this),b=V.copyChild(c),Z=F('<li class="b-comp-menu-dropdown__content-item h-hide-imp"></li>');Z.append(b).appendTo(T).data("vb-progressive-item-num",Y);c.data("vb-progressive-item-num",Y)});vBulletin.CompMenuDropdown.init()}var W=X.find(".b-comp-menu-dropdown__content-item");if(V.removeMenu||!V.needsShrink()){U.removeClass("h-hide-imp");X.addClass("h-hide-imp");W.addClass("h-hide-imp")}if(!V.removeMenu&&V.needsShrink()){U.reverse().each(function(){var a=F(this),Z=a.data("vb-progressive-item-num"),Y=W.filter(function(){return(F(this).data("vb-progressive-item-num")==Z)});Y.removeClass("h-hide-imp b-comp-menu-dropdown__content-item--first");a.addClass("h-hide-imp");X.removeClass("h-hide-imp");if(!V.needsShrink()){Y.addClass("b-comp-menu-dropdown__content-item--first");return false}})}}function K(U,T){M()}function H(U){var T=[U,U.parent()],W=false;F.each(T,function(X,Y){if(Y.is(".js-shrink-event-parent")){var Z=vBulletin.Responsive.Debounce.checkElementShrinkRequirement(Y);if(Z=="need_shrink"){W=true;return false}}});if(U.is(".js-comp-menu-dropdown__content--main-menu")&&!W){var V=vBulletin.Responsive.Debounce.checkElementShrinkRequirement(F(".js-channel-subtabbar-list"));if(V=="need_shrink"){W=true}}return W}function M(){var U=F(".js-comp-menu-horizontal");if(U.length){var W=F("body"),V=W.is(".l-small"),T=W.is(".l-xsmall");U.each(function(X){var b=F(this),a=b.find("li").not(".b-post-control--disabled").length,d=true,c=false;if(b.data("is-dropdown-menu")){var Z=b.closest(".js-comp-menu-dropdown");if(Z.is(".b-comp-menu-dropdown--open")){d=false}}if(d){if(b.data("is-dropdown-menu")){P(b,"horizontal");b.data("is-dropdown-menu","")}c=H(b)}var Y=((V&&b.is(".js-comp-menu--dropdown-on-small"))||(T&&b.is(".js-comp-menu--dropdown-on-xsmall"))||c);if(Y&&a>0){if(!b.data("is-dropdown-menu")){P(b,"dropdown");b.data("is-dropdown-menu","1")}}else{if(b.data("is-dropdown-menu")){P(b,"horizontal");b.data("is-dropdown-menu","")}}})}}function O(){vBulletin.phrase.register(F("[data-dropdown-trigger-phrase]").map(function(T,U){return F(U).data("dropdown-trigger-phrase")}).get());G(J);G(D);G(I);G(B);G(Q);G(E);G(R);M();if(window.vBulletin.jsexec.css_b_comp_menu_horizontal.init<1){vBulletin.Responsive.Debounce.registerCallback(M);F(document).on("vb-loadnewposts",K);F(document).on("vb-filterposts",K)}window.vBulletin.jsexec.css_b_comp_menu_horizontal.init++}vBulletin.CompMenuHorizontal.registerMenuChangeFilter=G;vBulletin.CompMenuHorizontal.checkHorizontalMenuState=M;vBulletin.CompMenuHorizontal.convertDropdownProgressive=S;F(O)})(jQuery);